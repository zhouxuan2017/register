$(function(){var s,e=$("#user"),a=$("#phone"),o=$("#pas"),r=$("#yanzheng"),t=$("#huoqu"),n=$("#hover"),u=$("#user-dis"),l=$("#submit"),h=5;function c(s){var e=$(s),a=$(s+"-test");if(""!==e.val())return 1;a.html("不能为空!")}function d(s){var e=$(s),a=$(s+"-test");if(""!==e.val())return"#user"===s?/[^\w\u4e00-\u9fa5]|^\d+$/.test(e.val())?(e.addClass("error"),void a.html("用户名仅支持中英文、数字和下划线，且不能为纯数字")):(e.removeClass("error"),a.html(""),1):"#phone"===s?/^[1][3,4,5,7,8,9][0-9]{9}$/.test(e.val())?(e.removeClass("error"),a.html(""),1):(e.addClass("error"),void a.html("手机号码格式不正确")):"#pas"!==s||/(?!^[0-9]+$)(?!^[A-z]+$)(?!^[^A-z0-9]+$)^[^\s\u4e00-\u9fa5]{8,14}$/.test(e.val())?(e.removeClass("error"),a.html(""),1):(e.addClass("error"),void a.html("密码设置不符合要求"));a.html("不能为空")}e.change(function(){d("#user")}),e.focus(function(){u.removeClass("user-d"),u.addClass("user-show")}),e.focusout(function(){u.removeClass("user-show"),u.addClass("user-d"),d("#user")}),a.change(function(){d("#phone")}),a.focusout(function(){d("#phone")}),o.focusout(function(){n.removeClass("hover"),n.addClass("hid"),d("#pas")}),o.click(function(){n.removeClass("hid"),n.addClass("hover")}),r.focusout(function(){d("#yanzheng")}),t.click(function(){console.log("a"),s=setInterval(function(){-1!==h?(t.attr("disabled",!0),t.val("获取中("+h+")秒"),h--):(t.attr("disabled",!0),t.val("获取验证码"),$("#yanzheng-test").html("请求超时，请稍后再试"),clearInterval(s))},1e3)}),l.click(function(){c("#user")&&c("#phone")&&c("#pas")&&c("#yanzheng")?d("#user")&&d("#phone")&&d("#pas")&&d("#yanzheng")?alert("注册成功！"):alert("您输入的信息有误，请重新输入"):(u.removeClass("user-d"),u.addClass("user-show"),e.attr("autofocus",!0))})});